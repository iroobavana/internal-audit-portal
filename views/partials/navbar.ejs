
<!-- Top Navigation Bar -->
<nav class="top-nav">
  <a href="/dashboard" class="nav-brand">
    <i class="bi bi-shield-check"></i>
    <span>Internal Audit Portal</span>
  </a>
  
  <div class="nav-links">
    <a href="/dashboard" class="nav-link" data-page="dashboard">
      <i class="bi bi-house"></i> Dashboard
    </a>
    
    <% if (user.role === 'head_of_audit') { %>
      <a href="/auditees" class="nav-link" data-page="auditees">
        <i class="bi bi-building"></i> Auditees
      </a>
    <% } %>
    
    <a href="/audits" class="nav-link" data-page="audits">
      <i class="bi bi-clipboard-check"></i> Audits
    </a>
    
    <a href="/working-papers" class="nav-link" data-page="working-papers">
      <i class="bi bi-file-earmark-text"></i> Working Papers
    </a>
    
    <% if (user.role === 'manager' || user.role === 'head_of_audit') { %>
      <a href="/issues/verify" class="nav-link" data-page="verify">
        <i class="bi bi-check-circle"></i> Verify
      </a>
    <% } %>
  </div>
  
  <div class="user-menu">
    <div class="user-avatar"><%= user.name.charAt(0).toUpperCase() %></div>
    <div>
      <div style="font-weight: 600; font-size: 14px;"><%= user.name %></div>
      <div style="font-size: 12px; color: #64748b;"><%= user.role %></div>
    </div>
    <a href="/auth/logout" style="color: #64748b; margin-left: 12px; font-size: 18px;" title="Logout">
      <i class="bi bi-box-arrow-right"></i>
    </a>
  </div>
</nav>

<script>
  // Auto-highlight active nav link based on current URL
  const currentPath = window.location.pathname;
  const navLinks = document.querySelectorAll('.nav-link');
  
  navLinks.forEach(link => {
    const page = link.getAttribute('data-page');
    if (currentPath.includes(page)) {
      link.classList.add('active');
    }
  });
</script>